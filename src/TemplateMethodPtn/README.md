# Templete method

## Templete method패턴이란?
상위클래스쪽에 템플릿에 해당하는 메소드가있고 그 메소드 안에는 추상메소드가 사용됨. 상위클래스의 메소드에서 사용되는 추상메소드는 하위클래스에서 구현
상위클래스에서 처리의 뼈대를 결정하고 하위클래스에서 그 구체적인 내용을 결정하는 디자인 패턴을 Template method 패턴이라 함  
이 패턴을 이용하면 하위클래스에서 추상메소드를 구현하는거에 따라 어떤 처리를 하게될지 결정되지만 전체적인 

## Templete method패턴의 구성
- abstractClass: 템플릿 메소드를 구현하는 추상클래스. 여기서 템플릿 메소드 구현에 쓰이는 추상메소드를 선언함
- concreteClass: 구현을 담당하는 클래스. abstractClass를 상속받아 추상메소드를 구현

## 왜 Templete method패턴을 쓰는거임?
1. 로직을 공통화 할수 있음  
상위클래스의 템플릿 메소드에 알고리즘을 구현  
- 하위클래스에서 알고리즘을 일일이 기술할필요가 없음
- 하위클래스간의 결합도가 낮아져 버그 발생시 디버깅/수정하기 수월함

2. 하위클래스를 상위클래스랑 동일시함  
구체적인 구현은 하위클래스에서 하지만 전체적인 로직(템플릿메소드)를 가지고있는건 상위클래스임. 따라서 템플릿메소드를 사용할땐 상위클래스로 변수를 만들어서 사용하고 `instanceof` 같이 하위클래스의 종류를 특정하지않아도 프로그램이 작동하도록 코드를짜는게 바람직함. 이렇게 상위클래스형의 변수에 하위클래스의 어떠한 인스턴스를 대입해도 제대로 작동할 수 있도록 하는 것을 **LSP원칙**(객체지향의 원칙중 하나임)이라고 함  

요런식으로 쓰면됨
```java
AbstractClass a = new ConcreteClass1();
...
if(a instanceof ConcreteClass1) {
    ...
} else if (a instanceof ConcreteClass2) {
    ...
} else if...
    ...
```

### 상위클래스와 하위클래스의 관계 & 추상클래스의 의의
상위클래스-하위클래스를 사용할때 대부분 *하위클래스의 시점에서 생각*함. 이 때문에 벌어지는 일들은 다음과 같음  
- 상위클래스에서 메소드를 존나 정의하고 하위클래스에서는 그걸 이용만 함
- 하위클래스에 메소드를넣어 새로운 기능을 추가하는 용도로 사용
- 하위클래스에서 메소드를 오버라이드하여 상위클래스와 다른 동작을 하도록 변경  

시점을 바꿔서 *상위클래스 입장에서 생각*해보면
- 하위클래스에서 메소드가 구현되길 기다림
- 하위클래스에 대해서 그 메소드의 구현을 요청함(인터페이스처럼 구현 강제하듯이)

이번에 정리한 Templete method패턴과 위의 내용을 마음깊이 새기면 추상클래스의 존재 이유와 사용방법에대해 감이 슬슬올거임  
추상클래스의 추상메소드는 메소드의 본체가 구현되지않기때문에 구체적인 처리내용을 알수없음. 하지만 템플릿메소드처럼 추상클래스를 상속받을 클래스들이 할 전체적인 알고리즘과 틀을 제공하는 역할을함. *추상클래스는 자신을 상속받을 하위클래스들에게 메소드 구현을 요청하는 역할을 함*  

### 인터페이스와 추상클래스
인터페이스도 추상클래스처럼 추상메소드를 가지고 implement한 클래스에서 메소드를 구현하도록 함. 하지만 인터페이스에선 메소드를 구현할수없기에(추상메소드만 있을수있음) Templete method패턴에선 추상클래스 대신 인터페이스를 사용할수없음  