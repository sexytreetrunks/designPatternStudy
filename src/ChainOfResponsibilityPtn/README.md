# Chain of Responsibility pattern (책임 떠넘기기 패턴)

## 책임 떠넘기기 패턴이란?
어떤 요청이 발생했을때 그 요청을 처리할 오브젝트를 직접 결정할수 없는 경우, 복수의 객체를 사슬(chain)처럼 연결해두면 그 사슬을 차례로 돌아다니면서 처리할 객체를 결정하도록 함. 이게 chain of responsibility패턴임. 이 패턴을 사용하면 요청하는 쪽과 처리하는 쪽의 연결을 유연하게 해서 각 오프젝트를 부품으로 독립시킬수 있음. 또한 상황에 따라서 각 요청에 맞게 처리하기 알맞은 객체를 선택하여 실행시킬수 있음.

## 패턴 구성
- Handler: 요구를 처리하는 인터페이스를 결정하는 역할. Support클래스가 해당되며 자신이 처리못하는 요구가 나왔을때 떠넘기기를 할수있도록 next필드(Support 객체)와 request메소드를 가지고있음
- ConcreteHandler: Handler를 구현한 클래스. 
- Client: 최초의 concreteHandler에게 처리를 요구하는 일을 함. main클래스가 해당됨

## 패턴의 특징

### 요구하는 사람과 요구를처리하는 사람을 유연하게 연결
이 패턴을 사용하지않으면 '이 요구는 이 사람이 처리해야 한다'라는 정보를 누군가가 중앙집권적으로 가지고 있어야함. 따라서 요구와 처리자의 관계가 고정적이게 됨. 또한 그 부담이 요구하는 사람이 갖게되면 부품으로서의 독립성이 낮아짐.

### 동적으로 사슬의 형태를 바꿀수 있음
다음 support를 어떻게 지정하느냐에따라 사슬의 형태가 달라짐. 따라서 요청 상황에 따라서 처리하는 handler의 형태나 순서를 바꿀수 있음. 

### 자기일은 지가 맡아서 처리한다
누구 하나가 중앙집권적으로 요청을 처리하는게 아닌 각 요청상황에 맞는 concretehandler가 요청을 받고 처리할수없으면 다른 handler에게 넘김. 하나의 concretehandler가 그에맞는 요청만 처리하는 형태이므로 처리가 분산(일의 분담)되게 됨.

### 유연성은 높아지지만 처리는 지연됨
따라서 만약 처리속도가 중요한 경우에는 요구자와 처리자의 관계가 고정적이더라도 chain of responsibility패턴을 사용하지 않는게 좋은 방법일수있음

## 윈도우 시스템과 chain of resonsibility패턴
윈도우 시스템, 안드로이드 ui 등에서 터치, 클릭 이벤트를 처리할때 이 chain of responsibility패턴이 자주 사용됨. 
사용자가 화면의 어떤 좌표를 클릭하면 그 좌표에서 가장 하위에 있는 컴포넌트가 먼저 이벤트를 받고 처리할수없으면 parent로 이벤트가 전달되는 방식.


